{"version":3,"sources":["chart.js"],"names":[],"mappings":"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","file":"chart.js","sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('d3'), require('koto')) :\n  typeof define === 'function' && define.amd ? define(['d3', 'koto'], factory) :\n  global.chart = factory(global.d3, global.koto)\n}(this, function (d3, koto) { 'use strict';\n\n  var configs = [{\n    name: 'height',\n    description: 'The height of the chart.',\n    value: 500,\n    type: 'number',\n    units: 'px',\n    category: 'Size',\n    getter: function (){\n      // get value\n      console.log('getter');\n      return this.value;\n    },\n    setter: function (newValue){\n      // Set something\n      console.log('setter');\n      return newValue;\n    }\n  }, {\n    name: 'width',\n    description: 'The widthj of the chart.',\n    value: 800,\n    units: 'px',\n    type: 'number',\n    category: 'Size'\n  }];\n\n  class BarChart extends koto.Base {\n  \tconstructor(selection) {\n  \t\tsuper(selection);\n\n  \t\t// Setup\n  \t\tvar chart = this;\n\n      // define configs\n      configs.forEach(function (item) {\n        chart.configs.set(item.name, item);\n      });\n\n  \t\t// Scales\n  \t\tchart.x = d3.scale.linear()\n  \t\t\t.range([0, this.config('width')]);\n\n  \t\tchart.y = d3.scale.linear()\n  \t\t\t.domain([0, 100])\n  \t\t\t.rangeRound([0, this.config('height')]);\n\n  \t\t// Layer\n  \t\tchart.layer('bars', this.base.append('g'), {\n  \t\t\tdataBind: function dataBind(data) {\n  \t\t\t\treturn this.selectAll('rect')\n  \t\t\t\t\t.data(data, function(d) { return d.time; });\n  \t\t\t},\n  \t\t\tinsert: function insert() {\n  \t\t\t\treturn this.append('rect');\n  \t\t\t}\n  \t\t})\n  \t\t.on('enter', function() {\n  \t\t\tvar length = this.data().length;\n  \t\t\tthis.attr('x', function(d, i) { return chart.x(i + 1) - 0.5; })\n  \t\t\t\t.attr('y', function(d) { return chart.config('height') - chart.y(d.value) - 0.5; })\n  \t\t\t\t.attr('width', chart.config('width') / length)\n  \t\t\t\t.style('fill', 'steelBlue')\n  \t\t\t\t.attr('height', function(d) { return chart.y(d.value); });\n  \t\t})\n  \t\t.on('enter:transition', function() {\n  \t\t\tthis.duration(1000)\n  \t\t\t\t.attr('x', function(d, i) { return chart.x(i) - 0.5; });\n  \t\t})\n  \t\t.on('update:transition', function() {\n  \t\t\tthis.duration(1000)\n  \t\t\t\t.attr('x', function(d, i) { return chart.x(i) - 0.5; });\n  \t\t})\n  \t\t.on('exit:transition', function() {\n  \t\t\tthis.duration(1000)\n  \t\t\t\t.attr('x', function(d, i) { return chart.x(i - 1) - 0.5; })\n  \t\t\t\t.remove();\n  \t\t});\n  \t}\n\n  \t//override methods\n  \tpreDraw(data) {\n  \t\tthis.x.domain([0, data.length]);\n  \t}\n  }\n\n  // Export\n  koto.BarChart = BarChart;\n  var chart = koto.BarChart;\n\n  return chart;\n\n}));\n"],"sourceRoot":"/source/"}